// Base
// ----

// Applies a natural box layout model to all the things 
*,
*:before,
*:after { 
	box-sizing: border-box;
}

// Sets text selection background color
@include selection(lighten($blue, 40%));

// Global
// --------------------------------------------------------
html,
body,
button,
textarea,
input {
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	text-rendering: optimizeLegibility;
}

html {
	font-size: 100%;
	-webkit-text-size-adjust: 100%;
	-moz-text-size-adjust: 100%;
	-ms-text-size-adjust: 100%;
	@include respond($screenNarrow) {
		font-size: 120%;
	}
	@include respond($screenMedium) {
		font-size: 135%;
	}
	@include respond($screenWide) {
		font-size: 153%;
	}
}

body {
	font-family: $fontSerif;
	font-size: 1em;
	font-weight: $regular;
	line-height: $baseLineHeight;
	color: $grayDark;
	background-color: $white;
}

// Typography
// --------------------------------------------------------
// Block-level elements
// --------------------------
%proto-heading {
	display: block;
	font-weight: $regular;
	line-height: $lessLineHeight;
	margin: 0 0 0.3em;
}

h1,
h2 {
	@extend %proto-heading;
	font-size: $alpha;
}

h3 {
	@extend %proto-heading;
	font-size: $beta;
}

h4 {
	@extend %proto-heading;
	font-family: $fontSans;
	font-size: $delta;
}

h5 {
	@extend %proto-heading;
	@extend %delta;
}

p {
	margin: 0 0 $shim;
}

pre {
	@include tab-size(4);
	font-family: $fontMono;
	font-size: 0.8em;
	font-weight: $regular;
	line-height: $lessLineHeight;
	white-space: pre;
	word-wrap: normal;
	padding: $shim * $lessLineHeight;
	margin: 0;
	overflow-x: auto;
	&::-webkit-scrollbar {
		width: 8px;
		height: 8px;
	}
	&::-webkit-scrollbar-thumb {
		background: darken($grayDark, 12%);
		border-radius: 6px;
	}
	&::-webkit-scrollbar-track {
		border-radius: 6px;
	}
}

blockquote {
	font-style: italic;
	padding: 0 $horizontalSpace 0 ($horizontalSpace / 2);
	border-left: 2px solid $blueLight;
	margin: 3.3em 0 $shim ($horizontalSpace / 2);
	& + aside {
		@extend %delta;
		color: $grayLight;			
		padding-left: 50%;
	}
}

// Inline elements
// --------------------------
code {
	font-family: $fontMono;
	font-weight: $regular;
	background-color: $offWhite;
	border-bottom: 1px solid darken($offWhite, 3%);
	p & {
		font-size: 0.8em;
	}
}

abbr {
	font-family: $fontSans;
	font-size: 0.94em;
}

// Styles footnote references generated by kramdown
sup {
	font-family: $fontSans;
	font-size: $delta;
	color: $grayLighter;
	top: -0.5em;
	a {	
		padding: 0 0.1em;
		margin-left: 0.1em;
		box-shadow: none;
	}
}

// Links
// --------------------------
a,
[type=submit] {
	-webkit-tap-highlight-color: transparentize($blue, 0.7);
	color: inherit;
	text-decoration: none;
	transition: $transitionTime color ease-out, $transitionTime box-shadow ease-out; 
  box-shadow: 
    inset 0 ($borderThickness / -2) 0 0 $orangeLight,
    0 ($borderThickness / 2) 0 0 $orangeLight
  ;
	&:visited {   
		color: inherit;
	}
	&:hover {
		color: $orange;
		box-shadow: 
			inset 0 ($borderThickness / -2) 0 0 transparent,
			0 ($borderThickness / 2) 0 0 transparent
		;
	}
	&:focus {
		outline: 0;
	}
}

// Lists
// --------------------------
ul, 
ol {
	padding-left: $horizontalSpace;
	margin: 0 0 $shim;
	p,
	ul,
	ol {
		margin-bottom: 0;
	}
	ol {
		list-style-type: lower-alpha;
	}
}

// Dividers
// --------------------------
hr {
	@include bar(lighten($grayLight, 25%));
	border: none;
	margin: 0 auto $shim;
}
